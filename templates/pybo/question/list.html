{% extends "pybo/common/base.html" %}

{% load pagination %}

{% block title %}Question List{% endblock title %}

{% block content %}
<div class="container my-3">
    <table class="table">
        <thead>
            <tr class="text-center table-dark">
                <th>번호</th>
                <th style="width:50%">제목</th>
                <th>글쓴이</th>
                <th>작성일시</th>
            </tr>
        </thead>
        <tbody>
            {% for question in page_obj %}
            <tr class="text-center">
                <td>{{ page_obj|descending_index:forloop.counter0 }}</td>
                <td class="text-start">
                    <a href="{% url 'pybo:question:detail' question.id %}">{{ question.subject }}</a>
                    {% if question.answer_count > 0 %}
                    <span class="text-danger small mx-2">{{ question.answer_count }}</span>
                    {% endif %}
                </td>
                <td>{{ question.author.username }}</td>
                <td>{{ question.created_at|date:"Y-m-d H:i:s" }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="4" class="text-center">질문이 없습니다.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% include "common/pagination.html" %}
    <a href="{% url 'pybo:question:create' %}" class="btn btn-primary">질문 등록</a>
</div>
{% endblock content %}